# Pandas <!-- omit in toc -->

Veri çekme işlemleri için kullanılır.

## İçerikler <!-- omit in toc -->

- [Dict'i CSV'ye Çevirme](#Dicti-CSVye-%C3%87evirme)
- [Temel İşlemler](#Temel-%C4%B0%C5%9Flemler)
- [Tablo İşlemleri](#Tablo-%C4%B0%C5%9Flemleri)
  - [Tablo Oluşturma](#Tablo-Olu%C5%9Fturma)
  - [Tabloyu Bölme](#Tabloyu-B%C3%B6lme)
- [Veri İşlemleri](#Veri-%C4%B0%C5%9Flemleri)
  - [Verileri Okuma](#Verileri-Okuma)
  - [Verileri Değiştirme](#Verileri-De%C4%9Fi%C5%9Ftirme)
- [Ek Bilgiler](#Ek-Bilgiler)

## Dict'i CSV'ye Çevirme

```python
df = pd.DataFrame({'name': ['Raphael', 'Donatello'],
                   'mask': ['red', 'purple'],
                   'weapon': ['sai', 'bo staff']})

df.to_csv(index=False)
# 'name,mask,weapon\nRaphael,red,sai\nDonatello,purple,bo staff\n'
```

## Temel İşlemler

| DataFrame İşlemi                                   | Açıklama                                         |
| -------------------------------------------------- | ------------------------------------------------ |
| `loc[<i>] = <list>`                                | i. **indekse** değer atama                       |
| `iloc[<i>] = <list>`                               | i. **satıra** değer atama (çok tercih etme)      |
| `drop(DATA_FRAME.index, inplace=True)`             | Tüm verileri silme                               |
| `df.to_csv(<file | filename>, header=f.tell()==0)` | CSV'ye ekleme (`tell` dosyanın başı ise 0 verir) |
| `len(pandas.read_csv(<path_to_csv>))`              | Veri sayısını bulma                              |

## Tablo İşlemleri

### Tablo Oluşturma

Ana yapı `pd.Dataframe(<işlem>)`

| İşlem                                                                         | Açıklama                               |
| ----------------------------------------------------------------------------- | -------------------------------------- |
| `{<col>: <val_list>, ...}, index=<iname_list>`                                | Tablo oluşturma                        |
| `list(zip(<val_list>, <val_list>)), columns=<col_list>, index = <iname_list>` | Birden fazla liste ile tablo oluşturma |

### Tabloyu Bölme

Ana yapı `df<işlem>`

| İşlem                               | Açıklama                             |
| ----------------------------------- | ------------------------------------ |
| `[<col>]`                           | Sütunu alma                          |
| `mean()`                            | Sütunların ortalama değerlerini alma |
| `loc[<iname>]`                      | İndex ismi ile veri okuma            |
| `.loc[[<iname>, ...], <col_list> ]` | Tabloyu parçalama                    |
| `.head()`                           | Tablonun başını görüntüleme          |
| `.tail()`                           | Tablonun sonunu görüntüleme          |

## Veri İşlemleri

### Verileri Okuma

Ana yapı `df.<metod>` şeklindedir.

> `<işlem>[<i>]` ile `i`. değer alınır

| Metod                               | Açıklama                                      |
| ----------------------------------- | --------------------------------------------- |
| `.loc[[<iname>, ...], <col_name> ]` | Birden fazla verinin özelliğini alma          |
| `.loc[<iname>:<iname>, <col_name>]` | İki index ismi arasındaki verileri alma       |
| `.iloc[<i>]`                        | İlk `i` veriyi alma                           |
| `.iloc[<i1>:<i2>, <col_i>]`         | `i1` ile `i2` arasındaki `col_i`. sütunu alma |

### Verileri Değiştirme

| İşlem                                     | Açıklama                                                      |
| ----------------------------------------- | ------------------------------------------------------------- |
| `['<col_name'] = <val_list>`              | Sütun ekleme (`val_list` uzunluğu satır sayısına eşit olmalı) |
| `np.random.choice(<list>, size=len(df)`   | Örnek `<val_list>`                                            | s |
| `loc[<iname>] = {<col_name>: <val>, ...}` | Satır ekleme                                                  |
| `drop(<iname>)`                           | Satır (veri) silme                                            |
| `drop(<col_name>, axis=1)`                | Sütun silme                                                   |
| `drop(<col_name>, axis=1, inplace=True)`  | Değişikliği tablo üstünde uygulama                            |

## Ek Bilgiler

- Rar dosyalarını çakarma `!unrar e keylogs.rar`
- [Looping over Pandas](https://www.polymorphe.org/index.php/looping-over-pandas-data-mkd) (Yüksek miktarda veri için)
- [Online CSV GÖrüntüleme](http://www.convertcsv.com/csv-viewer-editor.htm)
- [10dk'dan Pandas](https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html)
- [dataframe.append() & loc[] , iloc[]](https://thispointer.com/python-pandas-how-to-add-rows-in-a-dataframe-using-dataframe-append-loc-iloc/)
